<div class="admin-dashboard">
    <div class="container">
        <div class="admin-header">
            <h1>Admin Dashboard</h1>
            <p>Welcome back, <%= user.displayName || user.username %>!</p>
        </div>
        
        <% if (typeof locals.success !== 'undefined') { %>
            <div class="alert alert-success">
                <% if (success === 'about-updated') { %>
                    About me section updated successfully!
                <% } else if (success === 'project-added') { %>
                    Project added successfully!
                <% } else if (success === 'project-updated') { %>
                    Project updated successfully!
                <% } else if (success === 'project-deleted') { %>
                    Project deleted successfully!
                <% } else if (success === 'skill-added') { %>
                    Skill added successfully!
                <% } else if (success === 'skill-updated') { %>
                    Skill updated successfully!
                <% } else if (success === 'skill-deleted') { %>
                    Skill deleted successfully!
                <% } %>
            </div>
        <% } %>
        
        <div class="admin-grid">
            <div class="admin-card">
                <div class="admin-card-header">
                    <h3><i class="fas fa-user"></i> Profile</h3>
                </div>
                <div class="admin-card-content">
                    <p>Manage your profile information and about me section.</p>
                    <a href="/admin/about" class="btn btn-primary">Edit About Me</a>
                </div>
            </div>
            
            <div class="admin-card">
                <div class="admin-card-header">
                    <h3><i class="fas fa-project-diagram"></i> Projects</h3>
                    <span class="count"><%= projects.length %></span>
                </div>
                <div class="admin-card-content">
                    <p>Add, edit, and manage your projects.</p>
                    <a href="/admin/projects/new" class="btn btn-primary">Add Project</a>
                </div>
            </div>
            
            <div class="admin-card">
                <div class="admin-card-header">
                    <h3><i class="fas fa-code"></i> Skills</h3>
                    <span class="count"><%= skills.length %></span>
                </div>
                <div class="admin-card-content">
                    <p>Manage your technical skills and technologies.</p>
                    <a href="/admin/skills/new" class="btn btn-primary">Add Skill</a>
                </div>
            </div>
        </div>
        
        <div class="admin-sections">
            <div class="admin-section">
                <div class="section-header">
                    <h2>Recent Projects</h2>
                    <a href="/admin/projects/new" class="btn btn-outline">Add New</a>
                </div>
                
                <% if (projects.length > 0) { %>
                    <div class="projects-list">
                        <% projects.slice(0, 5).forEach(project => { %>
                            <div class="project-item">
                                <div class="project-info">
                                    <h4><%= project.title %></h4>
                                    <p><%= project.description %></p>
                                    <% if (project.featured) { %>
                                        <span class="featured-badge">Featured</span>
                                    <% } %>
                                </div>
                                <div class="project-actions">
                                    <a href="/admin/projects/<%= project.id %>/edit" class="btn btn-sm">Edit</a>
                                    <form method="POST" action="/admin/projects/<%= project.id %>/delete" style="display: inline;">
                                        <button type="submit" class="btn btn-sm btn-danger" 
                                                onclick="return confirm('Are you sure you want to delete this project?')">
                                            Delete
                                        </button>
                                    </form>
                                </div>
                            </div>
                        <% }) %>
                    </div>
                <% } else { %>
                    <div class="empty-state">
                        <p>No projects yet. <a href="/admin/projects/new">Add your first project</a></p>
                    </div>
                <% } %>
            </div>
            
            <div class="admin-section">
                <div class="section-header">
                    <h2>Skills</h2>
                    <a href="/admin/skills/new" class="btn btn-outline">Add New</a>
                </div>
                
                <% if (skills.length > 0) { %>
                    <div class="skills-list">
                        <% skills.forEach(skill => { %>
                            <div class="skill-item">
                                <div class="skill-info">
                                    <span class="skill-name"><%= skill.name %></span>
                                    <% if (skill.level) { %>
                                        <span class="skill-level"><%= skill.level %></span>
                                    <% } %>
                                    <% if (skill.category) { %>
                                        <span class="skill-category"><%= skill.category %></span>
                                    <% } %>
                                </div>
                                <div class="skill-actions">
                                    <a href="/admin/skills/<%= skill.id %>/edit" class="btn btn-sm">Edit</a>
                                    <form method="POST" action="/admin/skills/<%= skill.id %>/delete" style="display: inline;">
                                        <button type="submit" class="btn btn-sm btn-danger"
                                                onclick="return confirm('Are you sure you want to delete this skill?')">
                                            Delete
                                        </button>
                                    </form>
                                </div>
                            </div>
                        <% }) %>
                    </div>
                <% } else { %>
                    <div class="empty-state">
                        <p>No skills yet. <a href="/admin/skills/new">Add your first skill</a></p>
                    </div>
                <% } %>
            </div>
        </div>
    </div>
</div>
